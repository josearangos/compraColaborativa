
<div class="container">
<nav class=" text-center navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#"
    ><i class=" far fa-money-bill-alt"> </i>
    <h3 class="float-left">Zona de pago</h3></a
  >
</nav>
<div>
  <form [formGroup]="payForm" (ngSubmit)="pagarr()">
    <div class="myclass jumbotron">
      <div class="form-group">
        <div class="row">
          <div class="col-5">
            <label for="exampleSelect1">Selecciona Tu tarjeta</label>
            <div>
              <select
                formControlName="card"
                class="form-control"
                id="exampleSelect1"
              >
                <option
                  *ngFor="let card of arrayCards"
                  [value]="card.header.id"
                  >{{ card.cards.card_number }}</option
                >
              </select>
            </div>
          </div>
        </div>
      </div>
      <hr class="my-4" />

      <div class="row">
        <div class="col-6">
          <label for="exampleSelect1">Direccion de entrega</label>

          <ng-simple-autocomplete
            [placeholder]="placeholder"
            [sourceArray]="data"
            [fieldNameFormatter]="returnFieldFromObject"
            (onSelect)="selectedObject($event)"
            [multiSelect]="false"
          >
          </ng-simple-autocomplete>
        </div>
      </div>

      <hr class="my-4" />
      <div class="row">
        <div class="col">
          <h2 class="float-left">Total a pagar:</h2>
          <h2 class="float-left">{{ prettyPrice() }}</h2>
        </div>
      </div>
      <hr class="my-4" />

      <div class="row justify-content-md-center">
        <div class="col">
          <button
            type="submit"
            class="btn btn-primary btn-lg "
            [disabled]="payForm.invalid"
          >
            <i class="fas fa-credit-card"></i> Pagar
          </button>
        </div>
      </div>
    </div>
  </form>

  <ngx-spinner
    bdColor="rgba(51, 51, 51, 0.8)"
    size="large"
    color="#fff"
    type="ball-climbing-dot"
  ></ngx-spinner>

  <swal
    #successFull
    title="Exito "
    text="Pago Exitoso"
    type="success"
    [showCancelButton]="false"
    [focusCancel]="true"
    [showConfirmButton]="false"
    [timer]="2000"
  >
  </swal>
  <button class="btnsucces hide" (click)="successFull.show()">bien</button>
  <swal
    #error
    title="Error "
    text="Error al pagar"
    type="error"
    [showCancelButton]="false"
    [focusCancel]="true"
    [showConfirmButton]="false"
    [timer]="1000"
  >
  </swal>
  <button class="btnerror hide" (click)="error.show()">Error</button>
</div>
</div>